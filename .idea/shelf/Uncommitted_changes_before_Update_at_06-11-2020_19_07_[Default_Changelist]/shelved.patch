Index: app/src/main/java/com/example/bucketlist/adapters/RecyclerAdapterComment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.bucketlist.adapters;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Color;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.drawable.DrawableCompat;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.bucketlist.R;\r\nimport com.example.bucketlist.model.CommentModel;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.TimeZone;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class RecyclerAdapterComment extends RecyclerView.Adapter<RecyclerAdapterComment.CommentViewHolder>\r\n        {\r\n    private static final String TAG = \"Likes\";\r\n    Context context;\r\n    List<CommentModel> commentModelList;\r\n    FirebaseFirestore firestore;\r\n    String postid;\r\n\r\n    public RecyclerAdapterComment(Context context, List<CommentModel> commentModelList,String postid) {\r\n        this.context = context;\r\n        this.commentModelList = commentModelList;\r\n        firestore = FirebaseFirestore.getInstance();\r\n        this.postid = postid;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CommentViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.comment_item,parent,false);\r\n        return new CommentViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return commentModelList.size();\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final CommentViewHolder holder, final int position) {\r\n\r\n        holder.comment.setText(commentModelList.get(position).getComment());\r\n        holder.noOfLikes.setText(Integer.toString(commentModelList.get(position).getLikes()));\r\n        FirebaseFirestore.getInstance().collection(\"Users\")\r\n                .document(commentModelList.get(position).getUid()).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                if (error!=null){\r\n                    Log.e(\"error\",error.getMessage());\r\n                }\r\n                else {\r\n                    holder.username.setText(value.getString(\"Display Name\"));\r\n                    Glide.with(context).load(value.getString(\"Image Uri\")).into(holder.userimage);\r\n                }\r\n            }\r\n        });\r\n\r\n        /**\r\n         * check if likes exists or not for the user\r\n         */\r\n        firestore.collection(\"Posts\").document(postid)\r\n                .collection(\"Comments\").document(commentModelList.get(position).getCommentId())\r\n                .collection(\"likedBy\")\r\n                .document(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n\r\n                        if (task.isSuccessful()) {\r\n                            DocumentSnapshot snapshot = task.getResult();\r\n                            if (snapshot.exists()) {\r\n                                holder.isLiked = true;\r\n                                Log.d(TAG, \"onComplete: \" + holder.isLiked);\r\n                                holder.likesText.setTextColor(Color.parseColor(\"#FF0000\"));\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                \r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(new Date());\r\n        SimpleDateFormat sdf = new SimpleDateFormat(\"hh:mm\");\r\n\r\n        sdf.setTimeZone(TimeZone.getDefault());\r\n\r\n        String dateAsText = sdf.format(new Date(commentModelList.get(position).getTimeStamp()).getTime());\r\n\r\n        Log.d(\"timezone123\",TimeZone.getDefault().toString());\r\n        holder.timecreated.setText(dateAsText);\r\n//        holder.likesText.setOnClickListener(this);\r\n        Log.d(\"datecreated\",dateAsText);\r\n\r\n        holder.likesText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Map map1 = new HashMap();\r\n                map1.put(\"ref\", firestore.collection(\"Users\").document(FirebaseAuth.getInstance().getCurrentUser().getUid()));\r\n                DocumentReference reference = firestore.collection(\"Posts\").document(postid)\r\n                        .collection(\"Comments\").document(commentModelList.get(position).getCommentId())\r\n                        .collection(\"likedBy\")\r\n                        .document(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n\r\n\r\n                DocumentReference documentReference = firestore.collection(\"Posts\").document(postid)\r\n                        .collection(\"Comments\").document(commentModelList.get(position).getCommentId());\r\n\r\n                if (holder.isLiked == false) {\r\n\r\n                    reference.set(map1);\r\n                    documentReference\r\n                            .update(\"total likes\", commentModelList.get(position).getLikes() + 1)\r\n                            .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                @Override\r\n                                public void onSuccess(Void aVoid) {\r\n                                    holder.isLiked = true;\r\n                                }\r\n                            });\r\n                } else  {\r\n                    reference.delete();\r\n                    documentReference\r\n                            .update(\"total likes\", commentModelList.get(position).getLikes() - 1)\r\n                            .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                @Override\r\n                                public void onSuccess(Void aVoid) {\r\n                                    holder.isLiked = false;\r\n                                    holder.likesText.setTextColor(Color.parseColor(\"#000000\"));\r\n                                }\r\n                            });\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    class CommentViewHolder extends RecyclerView.ViewHolder {\r\n        TextView username;\r\n        TextView comment;\r\n        TextView timecreated;\r\n        TextView noOfLikes;\r\n        TextView likesText;\r\n        CircleImageView userimage;\r\n        boolean isLiked = false;\r\n\r\n        public CommentViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            userimage = itemView.findViewById(R.id.userImage);\r\n            username = itemView.findViewById(R.id.username);\r\n            comment = itemView.findViewById(R.id.comment);\r\n            timecreated = itemView.findViewById(R.id.timecreated);\r\n            noOfLikes = itemView.findViewById(R.id.noOfLikes);\r\n            likesText = itemView.findViewById(R.id.likes);\r\n            \r\n        }\r\n\r\n        \r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/bucketlist/adapters/RecyclerAdapterComment.java	(revision c5f7d1a0dbb474eaeb7812a8fb272f08036b7b52)
+++ app/src/main/java/com/example/bucketlist/adapters/RecyclerAdapterComment.java	(date 1604653824232)
@@ -177,7 +177,7 @@
         TextView likesText;
         CircleImageView userimage;
         boolean isLiked = false;
-
+        
         public CommentViewHolder(@NonNull View itemView) {
             super(itemView);
             userimage = itemView.findViewById(R.id.userImage);
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-10-2020_16_42__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-10-2020_16_42__Default_Changelist_.xml	(revision c5f7d1a0dbb474eaeb7812a8fb272f08036b7b52)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-10-2020_16_42__Default_Changelist_.xml	(revision c5f7d1a0dbb474eaeb7812a8fb272f08036b7b52)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_30-10-2020_16_42_[Default_Changelist]" date="1604056355216" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_30-10-2020_16_42_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 30-10-2020 16:42 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_30-10-2020_16_42_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_30-10-2020_16_42_[Default_Changelist]/shelved.patch	(revision c5f7d1a0dbb474eaeb7812a8fb272f08036b7b52)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_30-10-2020_16_42_[Default_Changelist]/shelved.patch	(revision c5f7d1a0dbb474eaeb7812a8fb272f08036b7b52)
@@ -1,178 +0,0 @@
-Index: app/src/main/res/layout/activity_row.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:maxHeight=\"180dp\"\r\n    android:minHeight=\"170dp\"\r\n    android:layout_marginBottom=\"15dp\"\r\n    android:layout_marginTop=\"25dp\">\r\n\r\n    <androidx.cardview.widget.CardView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_centerVertical=\"true\"\r\n        android:clickable=\"true\"\r\n        app:cardBackgroundColor=\"@null\"\r\n        app:cardCornerRadius=\"30dp\">\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"55dp\"\r\n            android:layout_height=\"172dp\"\r\n            android:background=\"@color/lightgray\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"30dp\"\r\n                android:layout_marginLeft=\"10dp\"\r\n                android:layout_marginTop=\"30dp\"\r\n                android:src=\"@drawable/like\">\r\n\r\n            </ImageView>\r\n\r\n            <TextView\r\n                android:id=\"@+id/total\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_marginLeft=\"10dp\"\r\n                android:layout_marginTop=\"70dp\"\r\n                android:text=\"2K+\"\r\n                android:textSize=\"15dp\"\r\n                android:gravity=\"center\"/>\r\n            <ImageView\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"30dp\"\r\n                android:layout_marginLeft=\"10dp\"\r\n                android:layout_marginTop=\"100dp\"\r\n                android:src=\"@drawable/dislike\">\r\n\r\n            </ImageView>\r\n\r\n        </RelativeLayout>\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"25dp\"\r\n            android:layout_marginLeft=\"55dp\"\r\n            android:layout_marginTop=\"5dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/city_row\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"25dp\"\r\n                android:textSize=\"15dp\"\r\n                android:text=\"London .\"\r\n                android:layout_marginLeft=\"10dp\"\r\n                android:gravity=\"center\"\r\n                android:fontFamily=\"@font/nunito_semibold\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/posted_by\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"25dp\"\r\n                android:text=\"Posted by Taniya\"\r\n                android:textSize=\"15dp\"\r\n                android:layout_marginLeft=\"70dp\"\r\n                android:gravity=\"center\"\r\n                android:fontFamily=\"@font/roboto_italic\"/>\r\n            <TextView\r\n                android:id=\"@+id/time\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"25dp\"\r\n                android:text=\"11:11\"\r\n                android:textSize=\"15dp\"\r\n                android:layout_marginLeft=\"300dp\"\r\n                android:gravity=\"center\"/>\r\n\r\n        </RelativeLayout>\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"330dp\"\r\n            android:layout_height=\"100dp\"\r\n            android:layout_marginLeft=\"55dp\"\r\n            android:layout_marginTop=\"35dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/activityDescription\"\r\n                android:layout_width=\"329dp\"\r\n                android:layout_height=\"100dp\"\r\n                android:text=\"If you just came in relationship,the best place for your date in Delhi will be Hauz Khas.\"\r\n                android:textSize=\"20dp\"\r\n                android:paddingLeft=\"10dp\"\r\n                android:textColor=\"@color/blackcolor\"/>\r\n\r\n        </RelativeLayout>\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_marginLeft=\"55dp\"\r\n            android:layout_marginTop=\"138dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/comments\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"100 comments\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginLeft=\"5dp\"/>\r\n        </RelativeLayout>\r\n\r\n\r\n    </androidx.cardview.widget.CardView>\r\n\r\n\r\n</RelativeLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_row.xml	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-+++ app/src/main/res/layout/activity_row.xml	(date 1604050280695)
-@@ -62,7 +62,7 @@
-                 android:layout_width="wrap_content"
-                 android:layout_height="25dp"
-                 android:textSize="15dp"
--                android:text="London ."
-+                android:text="London . "
-                 android:layout_marginLeft="10dp"
-                 android:gravity="center"
-                 android:fontFamily="@font/nunito_semibold"/>
-@@ -73,7 +73,7 @@
-                 android:layout_height="25dp"
-                 android:text="Posted by Taniya"
-                 android:textSize="15dp"
--                android:layout_marginLeft="70dp"
-+                android:layout_marginLeft="75dp"
-                 android:gravity="center"
-                 android:fontFamily="@font/roboto_italic"/>
-             <TextView
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_22-10-2020_21_17__Default_Changelist_.xml
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_22-10-2020_21_17__Default_Changelist_.xml	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_22-10-2020_21_17__Default_Changelist_.xml	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_22-10-2020_21_17_[Default_Changelist]" date="1603381722098" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_22-10-2020_21_17_[Default_Changelist]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 22-10-2020 21:17 [Default Changelist]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_23-10-2020_13_11__Default_Changelist_.xml
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_23-10-2020_13_11__Default_Changelist_.xml	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_23-10-2020_13_11__Default_Changelist_.xml	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_23-10-2020_13_11_[Default_Changelist]" date="1603438899043" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_23-10-2020_13_11_[Default_Changelist]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 23-10-2020 13:11 [Default Changelist]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_22-10-2020_21_17_[Default_Changelist]/shelved.patch
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_22-10-2020_21_17_[Default_Changelist]/shelved.patch	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_22-10-2020_21_17_[Default_Changelist]/shelved.patch	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-@@ -1,17 +0,0 @@
--Index: app/src/main/java/com/example/bucketlist/AddNewCity.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.bucketlist;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.example.bucketlist.adapters.RecyclerAdapterWallpaper;\r\nimport com.example.bucketlist.fragments.homePageFragment.CityFragment;\r\nimport com.example.bucketlist.fragments.homePageFragment.ProfileFragment;\r\nimport com.example.bucketlist.layout.userLayout.DetailProfile;\r\nimport com.example.bucketlist.model.WallpaperModel;\r\nimport com.example.bucketlist.utils.CityListHelper;\r\nimport com.google.android.material.snackbar.BaseTransientBottomBar;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.gson.JsonArray;\r\nimport com.ismaeldivita.chipnavigation.ChipNavigationBar;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport okhttp3.OkHttpClient;\r\n\r\npublic class AddNewCity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    Button cancelButton , createButton;\r\n    AutoCompleteTextView addCityEditText;\r\n    RecyclerView recyclerView;\r\n    String City;\r\n    RecyclerAdapterWallpaper recyclerAdapterWallpaper;\r\n    List<WallpaperModel> wallpaperModelList;\r\n    RelativeLayout smallRelativeLayout;\r\n\r\n    ArrayAdapter<String> arrayAdapter;\r\n\r\n    private static List<String> city= new ArrayList<>();\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.add_new_city);\r\n\r\n        cancelButton = findViewById(R.id.cancelButton);\r\n        createButton = findViewById(R.id.createButton);\r\n        addCityEditText = findViewById(R.id.addCityEditText);\r\n        smallRelativeLayout = findViewById(R.id.smallRelativeLayout);\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        wallpaperModelList = new ArrayList<>();\r\n        recyclerAdapterWallpaper = new RecyclerAdapterWallpaper(this,wallpaperModelList);\r\n\r\n        recyclerView.setAdapter(recyclerAdapterWallpaper);\r\n        cancelButton.setOnClickListener(this);\r\n        smallRelativeLayout.setOnClickListener(this);\r\n\r\n    }\r\n\r\n    private void loadCityList(String search) {\r\n        CityListHelper cityListHelper = new CityListHelper(this,search) {\r\n\r\n            @Override\r\n            protected void onCompleteListener(List<CityQuery> queryResult) {\r\n                Log.d(\"Listener \", \"onCompleteListener: \" + queryResult.toString());\r\n                List<String> list = new ArrayList<>();\r\n                for (CityQuery query: queryResult\r\n                     ) {\r\n                    list.add(query.getDisplayName());\r\n                }\r\n                city = list;\r\n                arrayAdapter = new ArrayAdapter<>(getApplicationContext(),\r\n                        android.R.layout.simple_list_item_1,city);\r\n                addCityEditText.setAdapter(arrayAdapter);\r\n                arrayAdapter.notifyDataSetChanged();\r\n            }\r\n        };\r\n    }\r\n\r\n    public void  fetchWallpaper(){\r\n\r\n        String url = \"https://api.unsplash.com/search/photos?query=\"+City+\"&client_id=oxQo4AhPw8db0J1kqs9urtDCYtgGm4Kpil2aA8pNyU8&per_page=15\";\r\n\r\n\r\n        JsonObjectRequest objectRequest = new JsonObjectRequest(Request.Method.GET, url,\r\n                null, new Response.Listener<JSONObject>() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n\r\n                try {\r\n                    Log.d(\"response\", response.toString());\r\n\r\n                    JSONArray array = response.getJSONArray(\"results\");\r\n\r\n                    for (int i =0;i<array.length();i++){\r\n                        JSONObject object = array.getJSONObject(i);\r\n                        String id = object.getString(\"id\");\r\n                        Log.d(\"photo id\", id);\r\n\r\n                        JSONObject objectUrls = object.getJSONObject(\"urls\");\r\n                        String rawImageUrl = objectUrls.getString(\"raw\");\r\n\r\n                        WallpaperModel wallpaperModel = new WallpaperModel(id,rawImageUrl);\r\n                        wallpaperModelList.add(wallpaperModel);\r\n\r\n                    }\r\n                    recyclerAdapterWallpaper.notifyDataSetChanged();\r\n\r\n\r\n                }catch (JSONException e){\r\n                    e.printStackTrace();\r\n                    Toast.makeText(AddNewCity.this,\" Error!!\"+e.toString(),Toast.LENGTH_LONG).show();\r\n                    Log.d(\"error\",e.getMessage());\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                error.printStackTrace();\r\n                Log.d(\"error12\",error.toString());\r\n            }\r\n        });\r\n\r\n        RequestQueue queue = VolleySingleton.getInstance(this).getRequestQueue();\r\n        queue.add(objectRequest);\r\n//        VolleySingleton.getInstance().addToRequestQueue(objectRequest);;\r\n        wallpaperModelList.clear();\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        if (v.getId() == R.id.cancelButton){\r\n\r\n\r\n        }\r\n        if (v.getId() == R.id.smallRelativeLayout){\r\n            if(!addCityEditText.getText().toString().isEmpty()){\r\n                City = addCityEditText.getText().toString();\r\n                fetchWallpaper();\r\n              recyclerView.setVisibility(View.VISIBLE);\r\n            }\r\n            else{\r\n                recyclerView.setVisibility(View.GONE);\r\n                Snackbar.make(v,\"Field is empty.\",Snackbar.LENGTH_LONG).show();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        addCityEditText.addTextChangedListener(tf);\r\n    }\r\n\r\n    TextWatcher tf = new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n            Log.d(\"Ok\", \"afterTextChanged: \" + s.toString());\r\n            loadCityList(s.toString());\r\n        }\r\n    };\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/example/bucketlist/AddNewCity.java	(revision 7629220d87edbf09bd9c683e59d2eeb7d3751540)
--+++ app/src/main/java/com/example/bucketlist/AddNewCity.java	(date 1603381642716)
--@@ -76,7 +76,6 @@
--         recyclerView = findViewById(R.id.recyclerView);
--         wallpaperModelList = new ArrayList<>();
--         recyclerAdapterWallpaper = new RecyclerAdapterWallpaper(this,wallpaperModelList);
---
--         recyclerView.setAdapter(recyclerAdapterWallpaper);
--         cancelButton.setOnClickListener(this);
--         smallRelativeLayout.setOnClickListener(this);
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_23-10-2020_13_11_[Default_Changelist]/shelved.patch
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_23-10-2020_13_11_[Default_Changelist]/shelved.patch	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_23-10-2020_13_11_[Default_Changelist]/shelved.patch	(revision bdd58bc220e40a55d991ddcc940cc2a71e5701a1)
-@@ -1,102 +0,0 @@
--Index: app/src/main/res/layout/fragment_city.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:theme=\"@style/CustomTheme\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n    <com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"450dp\">\r\n        <com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            app:contentScrim=\"@color/colorwhite\"\r\n            android:fitsSystemWindows=\"true\"\r\n            app:layout_scrollFlags=\"scroll|snap|exitUntilCollapsed\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/slider\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"450dp\"\r\n                app:auto_cycle=\"false\"\r\n                app:corner_radius=\"5\"\r\n                app:delay=\"0\"\r\n                android:background=\"@color/greenishcolor\"\r\n                app:period=\"1000\"\r\n                android:scrollIndicators=\"none\"\r\n                app:placeholder=\"@drawable/grey_bg\"\r\n                app:error_image=\"@drawable/grey_bg\"\r\n                >\r\n            </com.denzcoskun.imageslider.ImageSlider>\r\n\r\n            <androidx.appcompat.widget.Toolbar\r\n                android:id=\"@+id/toolBar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"?attr/actionBarSize\"\r\n                android:elevation=\"20dp\"\r\n                android:layout_marginTop=\"24dp\"\r\n                app:layout_collapseMode=\"pin\"\r\n                android:theme=\"@style/ThemeOverlay.MaterialComponents.Light\"\r\n                app:popupTheme=\"@style/ThemeOverlay.MaterialComponents.Light\">\r\n\r\n            </androidx.appcompat.widget.Toolbar>\r\n        </com.google.android.material.appbar.CollapsingToolbarLayout>\r\n    </com.google.android.material.appbar.AppBarLayout>\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        app:layout_behavior=\"com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/textTrending\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Trending\"\r\n                android:textSize=\"18dp\"\r\n                android:gravity=\"center|start\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginHorizontal=\"16dp\"\r\n                android:fontFamily=\"@font/nunito_bold\"\r\n                android:paddingTop=\"5dp\"\r\n\r\n\r\n                android:textColor=\"#1B1B1B\"/>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/recycler_view\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_marginTop=\"3dp\"\r\n                android:layout_height=\"wrap_content\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/city\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_marginHorizontal=\"10dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"CREATE\"\r\n                android:textSize=\"30dp\"\r\n                android:textAlignment=\"textEnd\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/activity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_marginHorizontal=\"10dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"CREATE activity\"\r\n                android:textSize=\"30dp\"\r\n                android:layout_alignParentBottom=\"true\"\r\n                android:textAlignment=\"textStart\"/>\r\n\r\n<!--            <androidx.recyclerview.widget.RecyclerView-->\r\n<!--                android:layout_width=\"match_parent\"-->\r\n<!--                android:layout_height=\"1500dp\"-->\r\n<!--                android:background=\"@color/greenishcolor\"/>-->\r\n        </LinearLayout>\r\n\r\n    </androidx.core.widget.NestedScrollView>\r\n</androidx.coordinatorlayout.widget.CoordinatorLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/res/layout/fragment_city.xml	(revision 83ea4c502e8655dafd19af5ee681f878b06a87c7)
--+++ app/src/main/res/layout/fragment_city.xml	(date 1603438740124)
--@@ -29,23 +29,31 @@
--                 >
--             </com.denzcoskun.imageslider.ImageSlider>
-- 
---            <androidx.appcompat.widget.Toolbar
---                android:id="@+id/toolBar"
---                android:layout_width="match_parent"
---                android:layout_height="?attr/actionBarSize"
---                android:elevation="20dp"
---                android:layout_marginTop="24dp"
---                app:layout_collapseMode="pin"
---                android:theme="@style/ThemeOverlay.MaterialComponents.Light"
---                app:popupTheme="@style/ThemeOverlay.MaterialComponents.Light">
--+
-- 
---            </androidx.appcompat.widget.Toolbar>
--+<!--            <androidx.appcompat.widget.Toolbar-->
--+<!--                android:id="@+id/toolBar"-->
--+<!--                android:layout_width="match_parent"-->
--+<!--                android:layout_height="?attr/actionBarSize"-->
--+<!--                android:elevation="20dp"-->
--+<!--                android:layout_marginTop="24dp"-->
--+<!--                app:layout_collapseMode="pin"-->
--+<!--                android:theme="@style/ThemeOverlay.MaterialComponents.Light"-->
--+<!--                app:popupTheme="@style/ThemeOverlay.MaterialComponents.Light">-->
--+
--+<!--               -->
--+
--+<!--            </androidx.appcompat.widget.Toolbar>-->
--         </com.google.android.material.appbar.CollapsingToolbarLayout>
--+
--     </com.google.android.material.appbar.AppBarLayout>
-- 
--+
--+
--     <androidx.core.widget.NestedScrollView
--         android:layout_width="match_parent"
--         android:layout_height="match_parent"
--+
--         app:layout_behavior="com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior">
-- 
--         <LinearLayout
--@@ -71,8 +79,8 @@
--             <androidx.recyclerview.widget.RecyclerView
--                 android:id="@+id/recycler_view"
--                 android:layout_width="match_parent"
---                android:layout_marginTop="3dp"
---                android:layout_height="wrap_content" />
--+                android:layout_height="wrap_content"
--+                android:layout_marginTop="3dp" />
-- 
--             <TextView
--                 android:id="@+id/city"
--@@ -100,4 +108,16 @@
--         </LinearLayout>
-- 
--     </androidx.core.widget.NestedScrollView>
--+
--+    <SearchView
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:background="@color/white"
--+        android:layout_gravity="top|right"
--+        android:layout_marginTop="34dp"
--+
--+
--+        android:elevation="2dp"
--+        app:layout_collapseMode="pin"
--+        android:layout_marginHorizontal="10dp" />
-- </androidx.coordinatorlayout.widget.CoordinatorLayout>
--\ No newline at end of file
--Index: app/src/main/java/com/example/bucketlist/AddNewPost.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.bucketlist;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.chip.ChipGroup;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class AddNewPost extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    FirebaseAuth mAuth;\r\n    FirebaseUser user;\r\n    ImageView backButton;\r\n    TextView postButton;\r\n    EditText titleText, descriptionText, locationText;\r\n    ChipGroup chipGroup;\r\n\r\n    FirebaseFirestore firestore;\r\n    boolean empty = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.add_new_post);\r\n\r\n\r\n\r\n        initialize();\r\n\r\n\r\n\r\n    }\r\n\r\n    private void initialize(){\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        user = mAuth.getCurrentUser();\r\n        firestore = FirebaseFirestore.getInstance();\r\n\r\n        backButton = findViewById(R.id.backButton);\r\n        postButton = findViewById(R.id.postButton);\r\n        titleText = findViewById(R.id.titleText);\r\n        descriptionText = findViewById(R.id.descriptionText);\r\n        locationText = findViewById(R.id.location);\r\n        chipGroup = findViewById(R.id.chipGroup);\r\n\r\n        backButton.setOnClickListener(this);\r\n        postButton.setOnClickListener(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if (view.getId() == R.id.backButton){\r\n            Toast.makeText(getApplicationContext(), \"back\", Toast.LENGTH_SHORT).show();\r\n            Intent i = new Intent(getApplicationContext(),HomeActivity.class);\r\n            startActivity(i);\r\n\r\n        }\r\n        else if (view.getId() == R.id.postButton){\r\n            if (checkEmptyField(empty)){\r\n                Snackbar.make(view,\"Please fill all the fields\",Snackbar.LENGTH_LONG).show();\r\n            }\r\n            else{\r\n                Toast.makeText(getApplicationContext(), \"Post shared\", Toast.LENGTH_SHORT).show();\r\n                Intent i = new Intent(getApplicationContext(),HomeActivity.class);\r\n                startActivity(i);\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean checkEmptyField(boolean empty ){\r\n        if (titleText.getText().toString().isEmpty()||\r\n                descriptionText.getText().toString().isEmpty()||\r\n                locationText.getText().toString().isEmpty()){\r\n\r\n            empty = true;\r\n\r\n        }\r\n        return empty;\r\n    }\r\n\r\n\r\n\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/example/bucketlist/AddNewPost.java	(revision 83ea4c502e8655dafd19af5ee681f878b06a87c7)
--+++ app/src/main/java/com/example/bucketlist/AddNewPost.java	(date 1603433214069)
--@@ -34,12 +34,8 @@
--         super.onCreate(savedInstanceState);
--         setContentView(R.layout.add_new_post);
-- 
---
---
--         initialize();
-- 
---
---
--     }
-- 
--     private void initialize(){
-diff --git .idea/shelf/Uncommitted_changes_before_Update_at_27-10-2020_15_23__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_27-10-2020_15_23__Default_Changelist_.xml
-diff --git .idea/shelf/Uncommitted_changes_before_Update_at_27-10-2020_15_23__Default_Changelist_1.xml .idea/shelf/Uncommitted_changes_before_Update_at_27-10-2020_15_23__Default_Changelist_1.xml
Index: settings.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>include ':app'\r\nrootProject.name = \"bucketList\"
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- settings.gradle	(revision c5f7d1a0dbb474eaeb7812a8fb272f08036b7b52)
+++ settings.gradle	(date 1604653893444)
@@ -1,2 +1,3 @@
+include ':javaPracticals'
 include ':app'
 rootProject.name = "bucketList"
\ No newline at end of file
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_05-11-2020_11_43__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_05-11-2020_11_43__Default_Changelist_.xml
